{
  // Place your snippets for typescript here. Each snippet is defined under a snippet name and has a prefix, body and
  // description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
  // $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the
  // same ids are connected.
  // Example:

  "Create a resolver": {
    "prefix": "crtResolver",
    "body": [
      "import { IGraphqlContext } from '@/server';",
      "import { Args } from '@/server/common';",
      "import { $1 } from '@prisma/client';",
      "import { validateData, Create$1Validator, Update$1Validator } from '@/validations';",
      "import { ${1/(.)(.*)/${1:/upcase}${2}/g}Service } from '../services/${1/(.)(.*)/${1:/downcase}${2}/g}.service';",
      "",
      "//",
      "// Resolver for $0 model",
      "//",
      "export const ${1/(.)(.*)/${1:/upcase}${2}/g}Resolver = {",
      "  Query: {",
      "    ${1/(.)(.*)/${1:/downcase}${2}/g}s: async (_: any, { pagination }: Args, __: IGraphqlContext) => {",
      "      return await ${1/(.)(.*)/${1:/upcase}${2}/g}Service.${1/(.)(.*)/${1:/downcase}${2}/g}s(pagination);",
      "    },",
      "",
      "    ${1/(.)(.*)/${1:/downcase}${2}/g}: async (_: any, { id }: { id: number }, __: IGraphqlContext) => {",
      "      return await ${1/(.)(.*)/${1:/upcase}${2}/g}Service.${1/(.)(.*)/${1:/downcase}${2}/g}(id);",
      "    },",
      "  },",
      "  Mutation: {",
      "    create${1/(.)(.*)/${1:/upcase}${2}/g}: async (_: any, { data }: { data: $1 }, __: IGraphqlContext) => {",
      "      await validateData({ schema: Create$1Validator, data });",
      "      return await ${1/(.)(.*)/${1:/upcase}${2}/g}Service.create${1/(.)(.*)/${1:/upcase}${2}/g}(data);",
      "    },",
      "",
      "    update${1/(.)(.*)/${1:/upcase}${2}/g}: async (_: any, { id, data }: { id: number; data: $1 }, __: IGraphqlContext) => {",
      "      await validateData({ schema: Update$1Validator, data });",
      "      return ${1/(.)(.*)/${1:/upcase}${2}/g}Service.update${1/(.)(.*)/${1:/upcase}${2}/g}(id, data);",
      "    },",
      "",
      "    delete${1/(.)(.*)/${1:/upcase}${2}/g}: async (_: any, { id }: { id: number }, __: IGraphqlContext) => {",
      "      return await ${1/(.)(.*)/${1:/upcase}${2}/g}Service.delete${1/(.)(.*)/${1:/upcase}${2}/g}(id);",
      "    },",
      "  },",
      "};"
    ],
    "description": "Create a resolver for a model"
  },

  "Create a Graphql schema": {
    "prefix": "crtSchema",
    "body": [
      "import { gql } from 'graphql-tag';",
      "export const $1Schema = gql`",
      "  input Create$1Input {",
      "    $0",
      "  }",
      "",
      "  input Update$1Input {",
      "    $0",
      "  }",
      "",
      "  type $1 {",
      "    id: Int!",
      "    $2",
      "    createdAt: DateTime!",
      "    updatedAt: DateTime",
      "    deleted: Boolean!",
      "    deletedAt: DateTime",
      "    $3",
      "  }",
      "",
      "  type Query {",
      "    ${1/(.)(.*)/${1:/downcase}${2}/g}s(pagination: Pagination): [$1!]!",
      "    ${1/(.)(.*)/${1:/downcase}${2}/g}(id: Int!): $1!",
      "  }",
      "",
      "  type Mutation {",
      "    create${1/(.)(.*)/${1:/upcase}${2}/g}(data: Create$1Input!): $1!",
      "    update${1/(.)(.*)/${1:/upcase}${2}/g}(id: Int!, data: Update$1Input!): $1!",
      "    delete${1/(.)(.*)/${1:/upcase}${2}/g}(id: Int!): $1!",
      "  }",
      "`;",
      ""
    ],
    "description": "Create a Graphql schema for a model"
  },

  "Create yup validator": {
    "prefix": "crtValidator",
    "body": [
      "import * as yup from 'yup';",
      "",
      "export const Create$1Validator = yup.object().shape({",
      "  $0",
      "});",
      "",
      "export const Update$1Validator = yup.object().shape({",
      "  $0",
      "});",
      ""
    ],
    "description": "Create a yup validator for a model"
  },

  "Create service": {
    "prefix": "crtService",
    "description": "Create a service for a model",
    "body": [
      "import { prisma } from '@/server';",
      "",
      "import { Pagination } from '../common';",
      "import { PrismaError } from '../utils';",
      "import { $1 } from '@prisma/client';",
      "",
      "//",
      "// Service for $0 model",
      "//",
      "export const ${1/(.)(.*)/${1:/upcase}${2}/g}Service = {",
      "  async ${1/(.)(.*)/${1:/downcase}${2}/g}s(pagination?: Pagination) {",
      "    return prisma.${1/(.)(.*)/${1:/downcase}${2}/g}.findMany({",
      "      ...pagination,",
      "      where: { deleted: false },",
      "    });",
      "  },",
      "",
      "  async ${1/(.)(.*)/${1:/downcase}${2}/g}(id: number) {",
      "    return await prisma.${1/(.)(.*)/${1:/downcase}${2}/g}.findUnique({ where: { id } });",
      "  },",
      "",
      "  async create${1/(.)(.*)/${1:/upcase}${2}/g}(data: $1) {",
      "    try {",
      "      return await prisma.${1/(.)(.*)/${1:/downcase}${2}/g}.create({ data: { ...data } });",
      "    } catch (error) {",
      "      throw PrismaError.handle(error);",
      "    }",
      "  },",
      "",
      "  async update${1/(.)(.*)/${1:/upcase}${2}/g}(id: number, data: $1) {",
      "    try {",
      "      return await prisma.${1/(.)(.*)/${1:/downcase}${2}/g}.update({",
      "        where: { id },",
      "        data: { ...data },",
      "      });",
      "    } catch (error) {",
      "      throw PrismaError.handle(error);",
      "    }",
      "  },",
      "",
      "  async delete${1/(.)(.*)/${1:/upcase}${2}/g}(id: number) {",
      "    return await prisma.${1/(.)(.*)/${1:/downcase}${2}/g}.delete({",
      "      where: { id },",
      "    });",
      "  },",
      "",
      "  // ======================= FOR ANOTHER RESOLVERS =======================",
      "",
      "};"
    ]
  }
}
